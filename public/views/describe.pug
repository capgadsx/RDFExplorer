div(ng-show="main.tool == 'describe'", ng-controller="DescribeCtrl as ctrl")
  // Show first the state of the selected element
  .ta-center(ng-if="ctrl.selectedObj && ctrl.selectedUri")
    i.pull-left.fa.fa-chevron-left.mt-1(ng-click="ctrl.getPrev()")
    .ell(style="display: inline-block; width: calc(100% - 40px);") {{ ctrl.selectedUri }}
    i.pull-right.fa.fa-chevron-right.mt-1(ng-click="ctrl.getNext()")
    hr(style="margin: 3px 0px;")

  // Show when no URI selected
  h3.ta-center(ng-if="!ctrl.selectedUri") No URIs to describe
  h2.ta-center {{ ctrl.selectedUri.getLabel() }}
  hr

  div(ng-repeat="(key, value) in ctrl.long track by $index", ng-true="value.more = false;")
    strong {{ value.label.value }} :&nbsp;
    div(ng-if="!value.more" ,style="display: inline;") {{ ctrl.descPropValue[value.uri.value][0].uri.value.slice(0,180) + '...'}}
    div(ng-if="value.more" ,style="display: inline;") {{ ctrl.descPropValue[value.uri.value][0].uri.value }}
    a(href="", ng-if="!value.more", ng-click="value.more = !value.more") [more]
    a(href="", ng-if="value.more", ng-click="value.more = !value.more") [less]

  table.table.table-hover
    tbody
      tr(ng-repeat="(key, value) in ctrl.descDatatypeProp track by $index",
         ng-init="ctrl.getDatatypePropValue(ctrl.selectedUri, value.uri.value)")
        th.grab-hand(draggable="true",
            ondragstart="angular.element(this).scope().drag(event, '', angular.element(this).scope().value.uri.value, 'literal')",
            ) {{ value.label.value }}
        td
          div(ng-repeat="(k, v) in ctrl.descPropValue[value.uri.value] track by $index") {{ v.uri.value }}

  div.propRect(
      ng-repeat="(key, value) in ctrl.descObjProp track by $index",
      ng-init="ctrl.getObjPropValue(ctrl.selectedUri, value.uri.value); value.active = true; value.filter = '';",
      ng-class="{'active': value.active}")
    div.head(ng-click="value.active = !value.active")
      div.text-truncate(style="display:inline-block; width:100%;",
          ondragstart="angular.element(this).scope().drag(event, '', angular.element(this).scope().value.uri.value)",
          draggable="true") {{ value.label.value }}
      div.info
        span.pull-right.fa(aria-hidden="true", ng-class="value.active ? 'fa-chevron-up' : 'fa-chevron-down'")
        div.inner-addon.right-addon(ng-click="$event.stopPropagation();")
          i.fa.fa-search(aria-hidden="true")
          input.form-control(type="text", ng-model="value.filter")
    hr
    div.fakeRect-container
      //pre {{ ctrl.descPropValue[value.uri.value] | json }}
      div.fakeRect(
          ng-repeat="(k, v) in ctrl.descPropValue[value.uri.value] | filter: {$ : { value : value.filter} } track by $index"
          ondragstart="angular.element(this).scope().drag(event, angular.element(this).scope().v.uri.value,  angular.element(this).scope().value.uri.value)",
          draggable="true") {{ v.label.value || v.uri.value.getLabel() }}
